<?xml version="1.0" ?>
<!-- Generated using onshape-to-robot - with physics added -->
<!-- Onshape document_id: 4757b8f98f7afcc7c3655639 -->
<robot name="fastbot" xmlns:xacro="http://ros.org/wiki/xacro">

  <xacro:property name="PI" value="3.141592653589793" />
  <xacro:property name="wheel_radius" value="0.0325" />
  <xacro:property name="wheel_width" value="0.025" />

  <xacro:macro name="fastbot_body" params="robot_name">

    <!-- ==================== BASE LINK ==================== -->
    <link name="${robot_name}_base_link">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.25"/>
            <inertia ixx="0.000767" ixy="0.0" ixz="0.0"
                     iyy="0.000568" iyz="0.0"
                     izz="0.000791"/>
        </inertial>
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://fastbot_description/onshape/new_assets/fastbotchassis.dae"/>
            </geometry>
        </visual>
        <collision>
            <origin xyz="-0.02 0 0.045" rpy="0 0 0"/>
            <geometry>
                <box size="0.10 0.095 0.08"/>
            </geometry>
        </collision>
    </link>

    <!-- ==================== RIGHT WHEEL ==================== -->
    <link name="${robot_name}_wheel_right">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.03"/>
            <inertia ixx="1.044e-05" ixy="0" ixz="0"
                     iyy="1.044e-05" iyz="0"
                     izz="1.781e-05"/>
        </inertial>
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://fastbot_description/onshape/new_assets/wheeldae.dae"/>
            </geometry>
        </visual>
        <collision>
            <origin xyz="0 0 0" rpy="0 ${PI/2} 0"/>
            <geometry>
                <cylinder radius="${wheel_radius}" length="${wheel_width}"/>
            </geometry>
        </collision>
    </link>

    <joint name="${robot_name}_right_wheel" type="continuous">
        <origin xyz="-0.04091 -0.0479 0.014" rpy="0 0 1.5708"/>
        <parent link="${robot_name}_base_link"/>
        <child link="${robot_name}_wheel_right"/>
        <axis xyz="1 0 0"/>
        <limit effort="10" velocity="10"/>
    </joint>

    <!-- ==================== LEFT WHEEL ==================== -->
    <link name="${robot_name}_wheel_left">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.03"/>
            <inertia ixx="1.044e-05" ixy="0" ixz="0"
                     iyy="1.044e-05" iyz="0"
                     izz="1.781e-05"/>
        </inertial>
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://fastbot_description/onshape/new_assets/wheeldae.dae"/>
            </geometry>
        </visual>
        <collision>
            <origin xyz="0 0 0" rpy="0 ${PI/2} 0"/>
            <geometry>
                <cylinder radius="${wheel_radius}" length="${wheel_width}"/>
            </geometry>
        </collision>
    </link>

    <joint name="${robot_name}_left_wheel" type="continuous">
        <origin xyz="-0.04091 0.0479 0.014" rpy="0 0 -1.5708"/>
        <parent link="${robot_name}_base_link"/>
        <child link="${robot_name}_wheel_left"/>
        <axis xyz="-1 0 0"/>
        <limit effort="10" velocity="10"/>
    </joint>

    <!-- ==================== BALL CASTER ==================== -->
    <!-- Wheel bottom at Z = 0.014 - 0.0325 = -0.0185 from base_link -->
    <!-- Caster ball center should be at Z = -0.0185 + 0.0095 = -0.009 -->
    <link name="${robot_name}_ball_caster">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.01"/>
            <inertia ixx="1e-09" ixy="0" ixz="0"
                     iyy="1e-09" iyz="0"
                     izz="1e-09"/>
        </inertial>
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <sphere radius="0.0095"/>
            </geometry>
            <material name="caster_material">
                <color rgba="0.35 0.38 0.4 1.0"/>
            </material>
        </visual>
        <collision>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <sphere radius="0.0095"/>
            </geometry>
        </collision>
    </link>

    <joint name="${robot_name}_caster_joint" type="fixed">
        <origin xyz="0.05 0 -0.009" rpy="0 0 0"/>
        <parent link="${robot_name}_base_link"/>
        <child link="${robot_name}_ball_caster"/>
    </joint>

    <!-- ==================== LIDAR ==================== -->
    <link name="${robot_name}_lidar">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.05"/>
            <inertia ixx="0.0001" ixy="0" ixz="0"
                     iyy="0.0001" iyz="0"
                     izz="0.0002"/>
        </inertial>
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://fastbot_description/onshape/new_assets/lydar.dae"/>
            </geometry>
            <material name="lidar_material">
                <color rgba="0.1 0.1 0.1 1.0"/>
            </material>
        </visual>
        <collision>
            <origin xyz="0 0 0.02" rpy="0 0 0"/>
            <geometry>
                <cylinder radius="0.025" length="0.04"/>
            </geometry>
        </collision>
    </link>

    <joint name="${robot_name}_lidar_joint" type="fixed">
        <origin xyz="0 0 0.108" rpy="0 0 0"/>
        <parent link="${robot_name}_base_link"/>
        <child link="${robot_name}_lidar"/>
    </joint>

    <!-- ==================== CAMERA ==================== -->
    <link name="${robot_name}_camera">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.01"/>
            <inertia ixx="1e-09" ixy="0" ixz="0"
                     iyy="1e-09" iyz="0"
                     izz="1e-09"/>
        </inertial>
    </link>

    <joint name="${robot_name}_camera_joint" type="fixed">
        <origin xyz="0.087 0 0.087" rpy="0 0 0"/>
        <parent link="${robot_name}_base_link"/>
        <child link="${robot_name}_camera"/>
    </joint>

  </xacro:macro>

</robot>
