<?xml version="1.0" encoding="UTF-8" ?>
<!--
  CycloneDDS Configuration for Fastbot (Tailscale)

  Prerequisites: Install Tailscale on both machines
    - Mac: https://tailscale.com/download (use the app)
    - Pi:  curl -fsSL https://tailscale.com/install.sh | sh && sudo tailscale up

  Get Tailscale IPs: tailscale ip -4
  Update the Peer addresses below with your Tailscale IPs.
-->
<CycloneDDS xmlns="https://cdds.io/config">
  <Domain id="any">
    <General>
      <Interfaces>
        <!-- Use Tailscale interface name -->
        <NetworkInterface name="tailscale0" priority="default" />
      </Interfaces>
      <AllowMulticast>false</AllowMulticast>
    </General>
    <Discovery>
      <!-- Tailscale IPs: run 'tailscale ip -4' on each machine -->
      <Peers>
        <Peer address="100.88.1.19"/>  <!-- Pi -->
        <Peer address="100.73.231.76"/> <!-- Mac devcontainer -->
      </Peers>
      <ParticipantIndex>auto</ParticipantIndex>
      <MaxAutoParticipantIndex>100</MaxAutoParticipantIndex>
    </Discovery>
    <Tracing>
      <Verbosity>warning</Verbosity>
      <OutputFile>stderr</OutputFile>
    </Tracing>
  </Domain>
</CycloneDDS>
